{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n// Opisany w dokumentacji\nimport SimpleLightbox from \"simplelightbox\";\n// Opcjonalny import stylów\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\ndocument.getElementById('search-form').addEventListener('submit', event => {\n    event.preventDefault();\n    const query = document.getElementById('search-query').value;\n    fetchImages(query);\n});\n\nfunction fetchImages(query) {\n    const apiKey = '44974018-ca766bb5bf44f97c206908e6f'; \n    const url = `https://pixabay.com/api/?key=${apiKey}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n    fetch(url)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        })\n        .then(data => {\n            if (data.hits.length === 0) {\n                iziToast.error({\n                    title: 'Error',\n                    message: 'Przepraszamy, nie ma obrazów zgodnych z wyszukiwaniem. Spróbuj ponownie!'\n                });\n            } else {\n                displayImages(data.hits);\n            }\n        })\n        .catch(error => {\n            iziToast.error({\n                title: 'Error',\n                message: `There was a problem with the fetch operation: ${error}`\n                \n            });\n            console.log(error);\n        });\n}\nfunction displayImages(images) {\n    const gallery = document.querySelector('.gallery');\n    gallery.innerHTML = '';\n    images.forEach(image => {\n        const a = document.createElement('a');\n        a.href = image.largeImageURL;\n        a.classList.add('gallery-item');\n\n        const img = document.createElement('img');\n        img.src = image.webformatURL;\n        img.alt = image.tags;\n\n        a.appendChild(img);\n        gallery.appendChild(a);\n    });\n\n    // Initialize SimpleLightbox\n    const lightbox = new SimpleLightbox('.gallery a', {\n        captionType: 'attr',\n        captionsData: 'alt',\n        captionDelay: 250\n    });\n}"],"names":["event","query","fetchImages","url","response","data","iziToast","displayImages","error","images","gallery","image","a","img","SimpleLightbox"],"mappings":"6vBAOA,SAAS,eAAe,aAAa,EAAE,iBAAiB,SAAUA,GAAS,CACvEA,EAAM,eAAc,EACpB,MAAMC,EAAQ,SAAS,eAAe,cAAc,EAAE,MACtDC,EAAYD,CAAK,CACrB,CAAC,EAED,SAASC,EAAYD,EAAO,CAExB,MAAME,EAAM,qEAA4CF,CAAK,2DAE7D,MAAME,CAAG,EACJ,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,EACA,KAAKC,GAAQ,CACNA,EAAK,KAAK,SAAW,EACrBC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,0EAC7B,CAAiB,EAEDC,EAAcF,EAAK,IAAI,CAEvC,CAAS,EACA,MAAMG,GAAS,CACZF,EAAS,MAAM,CACX,MAAO,QACP,QAAS,iDAAiDE,CAAK,EAE/E,CAAa,EACD,QAAQ,IAAIA,CAAK,CAC7B,CAAS,CACT,CACA,SAASD,EAAcE,EAAQ,CAC3B,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,GACpBD,EAAO,QAAQE,GAAS,CACpB,MAAMC,EAAI,SAAS,cAAc,GAAG,EACpCA,EAAE,KAAOD,EAAM,cACfC,EAAE,UAAU,IAAI,cAAc,EAE9B,MAAMC,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,IAAMF,EAAM,aAChBE,EAAI,IAAMF,EAAM,KAEhBC,EAAE,YAAYC,CAAG,EACjBH,EAAQ,YAAYE,CAAC,CAC7B,CAAK,EAGgB,IAAIE,EAAe,aAAc,CAC9C,YAAa,OACb,aAAc,MACd,aAAc,GACtB,CAAK,CACL"}